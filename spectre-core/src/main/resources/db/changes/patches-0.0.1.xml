<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd">


    <changeSet id="202512121447" author="vudsen">
        <preConditions onFail="MARK_RAN">
            <rowCount expectedRows="0" tableName="toolchain_item" />
        </preConditions>

        <insert tableName="toolchain_item">
            <column name="type" value="ARTHAS"/>
            <column name="tag" value="v4.1.3"/>
            <column name="url" value="https://github.com/alibaba/arthas/releases/download/arthas-all-4.1.3/arthas-bin.zip"/>
            <column name="arm_url" value=""/>
            <column name="created_at" valueComputed="CURRENT_TIMESTAMP"/>
        </insert>
        <insert tableName="toolchain_item">
            <column name="type" value="JATTACH"/>
            <column name="tag" value="v2.2"/>
            <column name="url" value="https://github.com/jattach/jattach/releases/download/v2.2/jattach-linux-x64.tgz"/>
            <column name="arm_url" value="https://github.com/jattach/jattach/releases/download/v2.2/jattach-linux-arm64.tgz"/>
            <column name="created_at" valueComputed="CURRENT_TIMESTAMP"/>
        </insert>
        <insert tableName="toolchain_item">
            <column name="type" value="HTTP_CLIENT"/>
            <column name="tag" value="v0.0.1"/>
            <column name="url" value="https://github.com/vudsen/spectre/releases/download/v0.0.1/http-client-0.0.1.jar"/>
            <column name="arm_url" value=""/>
            <column name="created_at" valueComputed="CURRENT_TIMESTAMP"/>
        </insert>
        <insert tableName="toolchain_bundle">
            <column name="id" valueComputed="1"/>
            <column name="name" value="latest"/>
            <column name="created_at" valueComputed="CURRENT_TIMESTAMP"/>
            <column name="jattach_tag" value="v2.2"/>
            <column name="arthas_tag" value="v4.1.3"/>
            <column name="http_client_tag" value="v0.0.1"/>
        </insert>
    </changeSet>

    <changeSet id="202512161748" author="vudsen">
        <addColumn tableName="runtime_node">
            <column name="restricted_mode" type="java.lang.Boolean" defaultValueComputed="false"/>
        </addColumn>
    </changeSet>
</databaseChangeLog>